<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8">

        <title>HW9: JSON</title>
        <script>
            function loadJSON() {
                request = new XMLHttpRequest();

                request.open("GET", "https://jameslai409.github.io/SetListJSON/", true);

                request.onreadystatechange = function() {
                    if (request.readyState == 4 && request.status == 200) {
                        let response = request.response;
                        let data = JSON.parse(response);
                        alert(response);
                    }
                    else if (request.readyState == 4 && request.status != 200) {
                        document.getElementById("part2").innerHTML = "A mistake happened somewhere. Check console logs please.";
                    }
                    else if (request.readyState == 3) {
                        document.getElementById("part2").innerHTML = "Too soon! Try again";
                    }
                }

                request.send();
            }
        </script>

    </head>
    <body onload="loadJSON()">
        <h1>HW9: JSON</h1>
        <h2>Part 2:</h2>
        <div id="part2">
            Loading...
        </div>

        <br />
        <br />
        <h2>Part 3</h2>
        <div id="part3">
            &nbsp;
        </div>
    </body>
</html>